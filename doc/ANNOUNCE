$Header: /data/zender/nco_20150216/nco/doc/ANNOUNCE,v 1.497 2012-07-16 01:26:11 zender Exp $ -*-text-*-

The netCDF operators NCO version 4.2.1 are ready. 

http://nco.sf.net (Homepage)
http://dust.ess.uci.edu/nco (Homepage "mirror")

This release is notable for 

Work on NCO 4.2.1 is underway, focused on making a more robust
build/configuration environment for RHEL, CentOS, and AIX, as well as
addressing the MM3 issue in other (non-ncks) operators, and on
simplifying issues described in the KNOWN BUGS NOT YET FIXED section
below. 

Enjoy,
Charlie

Other "New stuff" in 4.2.1 summary (full details always in ChangeLog):

NEW FEATURES:

A. Bypass intermediate temporary files
   ncks --no_tmp_fl ~/nco/data/in.nc ~/foo.nc
   At least four people, including Remik Ziemlinski, have requested
   this feature since at least 2004. Thanks to all of them.
   http://nco.sf.net/nco.html#no_tmp_fl

A. One may now extract extract the last N elements of a hyperslab.
   Negative integers as min or max elements of hyperslab specifications 
   indicate offsets from the end (Python also uses this convention).
   Previously, for example, -d time,-2,-1 caused a domain error. 
   Now it means select the second-to-last and penultimate timesteps.
   Negative integers work for min and mix indices but not for stride.
   Thanks to Nick Bower for requesting this feature (in 2008!).
   http://nco.sf.net/nco.html#hyp

A. Diskless files aka RAM-disk files
   This feature requires the newest netCDF library, version 4.2.1.
   ncks --ram ~/nco/data/in.nc ~/foo.nc
   http://nco.sf.net/nco.html#ram

A. Windows builds
   Eliminated some behavioral differences on Windows vs. UNIX NCO. 
   Windows NCO now uses temporary files by default, like UNIX.
   Windows NCO still lacks networking capabilities, e.g., scp/sftp.
   http://nco.sf.net/nco.html#windows

A. Building NCO using the cross-platform Qt framework improved.
   Now works on Ubuntu Linux using default .deb-based software stack. 
   Qt Unix build now includes ncwa.

BUG FIXES:

A. When invoked for min/max operations, ncra/ncea now computes means
   of coordinate variables, as documented. Thanks to user Roux for
   reporting this issue and supplying the patch.

A. Enable --fl_fmt switch synonym to --file_format on all applicable
   operators. The operators now conform with the documentation.

A. ncpdq -U now unpacks coordinate variables. ncpdq does not, by
   default, pack coordinate variables for reasons explained in the
   manual. Yet NCO may be used on files that were packed by other
   software and then it needs to unpack coordinate variables so...
   http://nco.sf.net/nco.html#ncpdq

KNOWN BUGS NOT YET FIXED:

   This section of the ANNOUNCE file reports and reminds users of the
   existence and severity of known, not yet fixed, problems. 
   These problems occur with NCO 4.2.1 built/tested with netCDF
   4.2-snapshot2012040523 on top of HDF5 hdf5-1.8.8 with these methods: 

   cd ~/nco;./configure --enable-netcdf4  # Configure mechanism -or-
   cd ~/nco/bld;make dir;make all;make ncap2 # Old Makefile mechanism

A. NOT YET FIXED
   Correctly read netCDF4 input over DAP, write netCDF4 output, then read resulting file.
   Replacing netCDF4 with netCDF3 in either location of preceding sentence leads to success.
   DAP non-transparency: Works locally, fails through DAP server.

   Demonstration:
   ncks -4 -O -v three_dmn_rec_var http://motherlode.ucar.edu:8080/thredds/dodsC/testdods/in_4.nc ~/foo.nc
   ncks ~/foo.nc # breaks with "NetCDF: Invalid dimension ID or name"

   20120611: Verified problem still exists
   Bug report filed: netCDF #QUN-641037: dimension ID ordering assumptions

B. NOT YET FIXED
   netCDF4 library fails when renaming dimension and variable using
   that dimension, in either order. Works fine with netCDF3.
   Problem with netCDF4 library implementation.

   Demonstration:
   ncks -O -4 -v lat_T42 ~/nco/data/in.nc ~/foo.nc
   ncrename -O -D 2 -d lat_T42,lat -v lat_T42,lat ~/foo.nc ~/foo2.nc # Breaks with "NetCDF: HDF error"
   ncks -m ~/foo.nc

   20120611: Verified problem still exists
   Bug report filed: netCDF #YQN-334036: problem renaming dimension and coordinate in netCDF4 file

C. NOT YET FIXED
   Unable to retrieve contents of variables including period '.' in name
   Metadata is returned successfully, data is not.
   DAP non-transparency: Works locally, fails through DAP server.

   Demonstration:
   ncks -O -C -D 3 -v var_nm.dot -p http://motherlode.ucar.edu:8080/thredds/dodsC/testdods in.nc # Fails to find variable

   20120611: Verified problem still exists. 
   Stopped testing because inclusion of var_nm.dot broke all test scripts.
   NB: Problem hard to fix since DAP interprets '.' as structure delimiter in query string of HTTP requests.

   Bug report filed: https://www.unidata.ucar.edu/jira/browse/NCF-47

"Sticky" reminders:

A. Pre-built, up-to-date Debian Sid & Ubuntu packages:
   http://nco.sf.net#debian

B. Pre-built Fedora and CentOS RPMs:
   http://nco.sf.net#rpm

C. Pre-built Windows (native) and Cygwin binaries:
   http://nco.sf.net#windows

D. Pre-built AIX binaries:
   http://nco.sf.net#aix

E. Did you try SWAMP (Script Workflow Analysis for MultiProcessing)?
   SWAMP efficiently schedules/executes NCO scripts on remote servers:  

   http://swamp.googlecode.com

   SWAMP can work command-line operator analysis scripts besides NCO. 
   If you must transfer lots of data from a server to your client
   before you analyze it, then SWAMP will likely speed things up. 

F. NCO support for netCDF4 features is tracked at

   http://nco.sf.net/nco.html#nco4

   NCO supports netCDF4 atomic data types, compression, and chunking.

G. Have you seen the NCO logo candidates by Tony Freeman, Rich
   Signell, Rob Hetland, and Andrea Cimatoribus? 
   http://nco.sf.net
   Tell us what you think...

